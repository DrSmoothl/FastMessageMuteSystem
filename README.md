# å¿«é€Ÿæ¶ˆæ¯ç¦è¨€ç³»ç»Ÿ

ä¸€ä¸ªä¸ NapCat äº¤äº’çš„ QQ ç¾¤åˆ·å±è‡ªåŠ¨ç¦è¨€ç¨‹åºã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ” **åˆ·å±æ£€æµ‹**: è‡ªåŠ¨æ£€æµ‹ç”¨æˆ·åœ¨çŸ­æ—¶é—´å†…å‘é€å¤§é‡æ¶ˆæ¯çš„è¡Œä¸º
- ğŸ”‡ **è‡ªåŠ¨ç¦è¨€**: æ£€æµ‹åˆ°åˆ·å±åè‡ªåŠ¨ç¦è¨€ï¼Œæ”¯æŒé€’å¢ç¦è¨€æ—¶é•¿
- ğŸ‘¥ **å¤šç¾¤ç›‘æ§**: æ”¯æŒåŒæ—¶ç›‘æ§å¤šä¸ªç¾¤
- âš™ï¸ **å‘½ä»¤æ§åˆ¶**: ç®¡ç†å‘˜å¯é€šè¿‡å‘½ä»¤å¼€å…³åŠŸèƒ½
- ğŸ“‹ **ç™½åå•**: æ”¯æŒè®¾ç½®ä¸å—ç¦è¨€çš„ç”¨æˆ·
- ğŸ“ **TOML é…ç½®**: ä½¿ç”¨ç®€æ´çš„ TOML æ ¼å¼é…ç½®æ–‡ä»¶

## å®‰è£…

### ä½¿ç”¨ uv (æ¨è)

```bash
# å®‰è£… uv (å¦‚æœè¿˜æ²¡å®‰è£…)
pip install uv

# å®‰è£…ä¾èµ–
uv sync

# è¿è¡Œ
uv run mute-bot
```

### ä½¿ç”¨ pip

```bash
pip install -e .
mute-bot
```

## é…ç½®

ç¼–è¾‘ `config.toml` æ–‡ä»¶ï¼š

```toml
[napcat]
ws_url = "ws://127.0.0.1:3001"    # NapCat WebSocket åœ°å€
http_url = "http://127.0.0.1:3000" # NapCat HTTP API åœ°å€
access_token = ""                  # è®¿é—®ä»¤ç‰Œ

[monitor]
groups = [123456789]  # ç›‘æ§çš„ç¾¤å·
admins = [111111111]  # ç®¡ç†å‘˜QQå·

[mute]
time_window = 10       # æ£€æµ‹æ—¶é—´çª—å£ (ç§’)
message_threshold = 5  # æ¶ˆæ¯æ•°é‡é˜ˆå€¼
mute_duration = 60     # ç¦è¨€æ—¶é•¿ (ç§’)
```

## å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `/mute on` | å¼€å¯åˆ·å±æ£€æµ‹ |
| `/mute off` | å…³é—­åˆ·å±æ£€æµ‹ |
| `/mute status` | æŸ¥çœ‹å½“å‰çŠ¶æ€ |
| `/mute reset <QQå·>` | é‡ç½®ç”¨æˆ·è¿è§„è®°å½• |

## é¡¹ç›®ç»“æ„

```
FastMessageMuteSystem/
â”œâ”€â”€ config.toml          # é…ç½®æ–‡ä»¶
â”œâ”€â”€ pyproject.toml       # é¡¹ç›®é…ç½®
â”œâ”€â”€ README.md            # è¯´æ˜æ–‡æ¡£
â””â”€â”€ src/
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ main.py          # ä¸»å…¥å£
    â”œâ”€â”€ config.py        # é…ç½®ç®¡ç†
    â”œâ”€â”€ napcat_client.py # NapCat å®¢æˆ·ç«¯
    â”œâ”€â”€ spam_detector.py # åˆ·å±æ£€æµ‹å™¨
    â””â”€â”€ handler.py       # æ¶ˆæ¯å¤„ç†å™¨
```

## License

MIT
